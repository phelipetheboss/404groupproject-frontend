<div class="container">
  <div class="col-md-9 p-lg-3 mx-auto my-5">
    <h4 style="text-align: center;">New Survey</h4>
    <br/>

    <form [formGroup]="survey">
      <button type="button" class="btn btn-primary addQuestion"  data-toggle="modal" data-target="#addQuestion" (click)="addQuestion()">
        <i class="fa-solid fa-circle-plus"></i> &nbsp;Add question
      </button>
      <br/>

      <div class="form-group">
        <label for="surveyName">Survey name</label>
        <input type="text" class="form-control" id="surveyName" placeholder="Survey name" formControlName="surveyName">
      </div>

      <div class="form-group">
        <label for="startDate">Start Date</label>
        <input type="date" class="form-control" id="startDate" placeholder="Start Date" formControlName="startDate">
      </div>

      <div class="form-group">
        <label for="endDate">End Date</label>
        <input type="date" class="form-control" id="endDate" placeholder="End Date" formControlName="endDate">
      </div>

      <ng-container formArrayName="questions">
        <ng-container  *ngFor="let questionForm of questions.controls; let i = index;">
          <div [formGroup]="questionForm">
            <div class="card newQuestion">
              <div class="form-group">
                <label for="description">Question:</label>
                <input type="text" class="form-control" id="description" placeholder="Question" formControlName="description">
              </div>

              Question Type:
              <select class="form-select" formControlName="questionType" onchange="changeQuestionType(event.currentTarget)">
                <option value="trueFalse">True/False</option>
                <option value="multipleChoice">Multiple Choice</option>
              </select>
              <div>
                <div class="form-group">
                  <input type="hidden" class="form-control" id="optionA" placeholder="Option A" formControlName="optionA">
                </div>
                <div class="form-group">
                  <input type="hidden" class="form-control" id="optionB" placeholder="Option B" formControlName="optionB">
                </div>
                <div class="form-group">
                  <input type="hidden" class="form-control" id="optionC" placeholder="Option C" formControlName="optionC">
                </div>
                <div class="form-group">
                  <input type="hidden" class="form-control" id="optionD" placeholder="Option D" formControlName="optionD">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" (click)="removeQuestion(i)">
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </div>
            </div>
          </div>
        </ng-container>
      </ng-container>

      <div class="text-center">
        <button type="submit" class="btn btn-primary createBtn" id="submit" (click)="createSurvey(survey.value)">
          <i class="fa-solid fa-floppy-disk fa-2xl"></i> &nbsp;Create survey
        </button>
      </div>
    </form>

  </div>
</div>






